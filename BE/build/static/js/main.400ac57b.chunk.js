(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{13:function(t,o,e){},15:function(t,o,e){},16:function(t,o,e){"use strict";e.r(o);var n=e(1),i=e.n(n),c=e(8),d=e.n(c),s=(e(13),e(2)),a=e(3),r=e(6),h=e(5),f=e(4),u=e(0),l=function(t){Object(h.a)(e,t);var o=Object(f.a)(e);function e(){return Object(s.a)(this,e),o.apply(this,arguments)}return Object(a.a)(e,[{key:"render",value:function(){var t=this.props.modeModify.todo;return Object(u.jsxs)("form",{action:"/",method:"post",onSubmit:function(t){t.preventDefault(),this.props.todoSubmit(t.target.todo.value),t.target.todo.value=""}.bind(this),children:[Object(u.jsx)("input",{type:"text",name:"todo",className:this.props.modeModify.mode?"modify":"",placeholder:"\uc624\ub298 \ud560 \uc77c\uc744 \uc785\ub825\ud558\uc138\uc694",value:t,onChange:this.props.onChangeModify,autocomplete:"off"}),Object(u.jsx)("input",{type:"submit",value:"+"})]})}}]),e}(n.Component),p=function(t){Object(h.a)(e,t);var o=Object(f.a)(e);function e(){return Object(s.a)(this,e),o.apply(this,arguments)}return Object(a.a)(e,[{key:"render",value:function(){var t=this;return Object(u.jsx)("ul",{children:this.props.todoList.map((function(o){return Object(u.jsxs)("li",{id:o.id,className:o.id===t.props.modeModify.id?"modify":"",children:[Object(u.jsx)("span",{className:o.checked?"checked":"",children:o.todo}),Object(u.jsxs)("span",{className:"right",children:[Object(u.jsx)("button",{onClick:function(t){this.props.todoModify(o)}.bind(t),children:"Edit"}),Object(u.jsx)("button",{onClick:function(t){this.props.todoDelete(o)}.bind(t),children:"\xd7"}),Object(u.jsx)("button",{onClick:function(t){this.props.todoChecked(o)}.bind(t),children:"\u2713"})]})]},o.id)}))})}}]),e}(n.Component),m=(e(15),function(t){Object(h.a)(e,t);var o=Object(f.a)(e);function e(t){var n;return Object(s.a)(this,e),(n=o.call(this,t)).state={todo:[],modify:{mode:!1,id:0,todo:""}},n.fetchToDo.bind(Object(r.a)(n)),n}return Object(a.a)(e,[{key:"componentWillMount",value:function(){this.fetchToDo()}},{key:"fetchToDo",value:function(){var t=this;fetch("http://localhost:8000/todo/list/").then((function(t){return t.json()})).then((function(o){return t.setState({todo:o})}))}},{key:"render",value:function(){var t=this,o=function(t){var o=null;if(document.cookie&&""!==document.cookie)for(var e=document.cookie.split(";"),n=0;n<e.length;n++){var i=e[n].trim();if(i.substring(0,t.length+1)===t+"="){o=decodeURIComponent(i.substring(t.length+1));break}}return o},e=function(e){var n=o("csrftoken");fetch("http://localhost:8000/todo/create/",{method:"POST",headers:{"Content-type":"application/json","X-CSRFToken":n},body:JSON.stringify({id:null,todo:e,checked:!1})}).then((function(o){t.fetchToDo()})).catch((function(t){console.log("ERROR:",t)}))},n=function(e){var n=o("csrftoken");fetch("http://localhost:8000/todo/update/".concat(t.state.modify.id,"/"),{method:"POST",headers:{"Content-type":"application/json","X-CSRFToken":n},body:JSON.stringify({todo:t.state.modify.todo})}).then((function(){t.fetchToDo()}))},i=function(){t.setState({modify:{mode:!1,id:0,todo:""}})};return Object(u.jsxs)("div",{id:"App",children:[Object(u.jsx)(l,{todoSubmit:function(o){!1===t.state.modify.mode?e(o):n(o),i()},modeModify:this.state.modify,onChangeModify:function(o){t.setState({modify:{mode:t.state.modify.mode,id:t.state.modify.id,todo:o.target.value}})}}),Object(u.jsx)(p,{todoList:this.state.todo,modeModify:this.state.modify,todoModify:function(o){t.state.modify.id===o.id?i():t.setState({modify:{mode:!0,id:o.id,todo:o.todo}})},todoDelete:function(e){var n=o("csrftoken");fetch("http://localhost:8000/todo/delete/".concat(e.id,"/"),{method:"DELETE",headers:{"Content-type":"application/json","X-CSRFToken":n}}).then((function(o){t.fetchToDo()}))},todoChecked:function(e){var n=o("csrftoken");e.checked=!e.checked,fetch("http://localhost:8000/todo/update/".concat(e.id,"/"),{method:"POST",headers:{"Content-type":"application/json","X-CSRFToken":n},body:JSON.stringify({todo:e.todo,checked:e.checked})}).then((function(){t.fetchToDo()}))}})]})}}]),e}(n.Component)),b=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,17)).then((function(o){var e=o.getCLS,n=o.getFID,i=o.getFCP,c=o.getLCP,d=o.getTTFB;e(t),n(t),i(t),c(t),d(t)}))};d.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(m,{})}),document.getElementById("root")),b()}},[[16,1,2]]]);
//# sourceMappingURL=main.400ac57b.chunk.js.map